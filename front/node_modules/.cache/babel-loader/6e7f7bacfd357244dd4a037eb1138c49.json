{"ast":null,"code":"import axios from 'axios'; // import Condition from 'yup/lib/Condition';\n// const meFromToken = (tokenFromStorage) => (dispatch) => {\n//   axios\n//     .get(`https://jastegri.pythonanywhere.com/auth/users/me/`, {\n//       headers: { Authorization: `Bearer ${tokenFromStorage}` },\n//     })\n//     .then(({ data }) => {\n//       // localStorage.setItem('token', JSON.stringify(data.tokens));\n//       dispatch(reloadToken(data));\n//     })\n//     .catch((err) => console.log(err.message));\n// };\n// const reloadToken = (data) => ({\n//   type: 'ME_FROM_TOKEN',\n//   payload: data,\n// });\n\nexport const addTodo = ({\n  title,\n  userId\n}) => {\n  return dispatch => {\n    dispatch(addTodoStarted());\n    axios.post(`https://jsonplaceholder.typicode.com/todos`, {\n      title,\n      userId,\n      completed: false\n    }).then(res => {\n      dispatch(addTodoSuccess(res.data));\n    }).catch(err => {\n      dispatch(addTodoFailure(err.message));\n    });\n  };\n};\n\nconst addTodoSuccess = todo => ({\n  type: ADD_TODO_SUCCESS,\n  payload: { ...todo\n  }\n});\n\nconst addTodoStarted = () => ({\n  type: ADD_TODO_STARTED\n});\n\nconst addTodoFailure = error => ({\n  type: ADD_TODO_FAILURE,\n  payload: {\n    error\n  }\n}); // export { meFromToken };\n// https://github.com/rajaraodv/react-redux-blog","map":{"version":3,"sources":["/home/ariet/project/pizza_shop/src/redux/actions/reload.js"],"names":["axios","addTodo","title","userId","dispatch","addTodoStarted","post","completed","then","res","addTodoSuccess","data","catch","err","addTodoFailure","message","todo","type","ADD_TODO_SUCCESS","payload","ADD_TODO_STARTED","error","ADD_TODO_FAILURE"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,OAAO,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAD,KAAuB;AAC5C,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACC,cAAc,EAAf,CAAR;AAEAL,IAAAA,KAAK,CACFM,IADH,CACS,4CADT,EACsD;AAClDJ,MAAAA,KADkD;AAElDC,MAAAA,MAFkD;AAGlDI,MAAAA,SAAS,EAAE;AAHuC,KADtD,EAMGC,IANH,CAMSC,GAAD,IAAS;AACbL,MAAAA,QAAQ,CAACM,cAAc,CAACD,GAAG,CAACE,IAAL,CAAf,CAAR;AACD,KARH,EASGC,KATH,CASUC,GAAD,IAAS;AACdT,MAAAA,QAAQ,CAACU,cAAc,CAACD,GAAG,CAACE,OAAL,CAAf,CAAR;AACD,KAXH;AAYD,GAfD;AAgBD,CAjBM;;AAmBP,MAAML,cAAc,GAAIM,IAAD,KAAW;AAChCC,EAAAA,IAAI,EAAEC,gBAD0B;AAEhCC,EAAAA,OAAO,EAAE,EACP,GAAGH;AADI;AAFuB,CAAX,CAAvB;;AAOA,MAAMX,cAAc,GAAG,OAAO;AAC5BY,EAAAA,IAAI,EAAEG;AADsB,CAAP,CAAvB;;AAIA,MAAMN,cAAc,GAAIO,KAAD,KAAY;AACjCJ,EAAAA,IAAI,EAAEK,gBAD2B;AAEjCH,EAAAA,OAAO,EAAE;AACPE,IAAAA;AADO;AAFwB,CAAZ,CAAvB,C,CAOA;AAEA","sourcesContent":["import axios from 'axios';\n// import Condition from 'yup/lib/Condition';\n\n// const meFromToken = (tokenFromStorage) => (dispatch) => {\n//   axios\n//     .get(`https://jastegri.pythonanywhere.com/auth/users/me/`, {\n//       headers: { Authorization: `Bearer ${tokenFromStorage}` },\n//     })\n//     .then(({ data }) => {\n//       // localStorage.setItem('token', JSON.stringify(data.tokens));\n\n//       dispatch(reloadToken(data));\n//     })\n//     .catch((err) => console.log(err.message));\n// };\n\n// const reloadToken = (data) => ({\n//   type: 'ME_FROM_TOKEN',\n//   payload: data,\n// });\n\nexport const addTodo = ({ title, userId }) => {\n  return (dispatch) => {\n    dispatch(addTodoStarted());\n\n    axios\n      .post(`https://jsonplaceholder.typicode.com/todos`, {\n        title,\n        userId,\n        completed: false,\n      })\n      .then((res) => {\n        dispatch(addTodoSuccess(res.data));\n      })\n      .catch((err) => {\n        dispatch(addTodoFailure(err.message));\n      });\n  };\n};\n\nconst addTodoSuccess = (todo) => ({\n  type: ADD_TODO_SUCCESS,\n  payload: {\n    ...todo,\n  },\n});\n\nconst addTodoStarted = () => ({\n  type: ADD_TODO_STARTED,\n});\n\nconst addTodoFailure = (error) => ({\n  type: ADD_TODO_FAILURE,\n  payload: {\n    error,\n  },\n});\n\n// export { meFromToken };\n\n// https://github.com/rajaraodv/react-redux-blog\n"]},"metadata":{},"sourceType":"module"}