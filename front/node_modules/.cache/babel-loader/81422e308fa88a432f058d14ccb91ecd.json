{"ast":null,"code":"import axios from 'axios';\nconst url = 'https://jastegri.pythonanywhere.com';\nexport const signUpUser = user => dispatch => {\n  dispatch(signUpUserStarted());\n  return axios.post(`${url}/auth/users/`, user);\n};\n\nconst signUpUserStarted = () => ({\n  type: 'SIGNUP_USER'\n});\n\nexport const signUpUserSuccess = user => ({\n  type: 'SIGNUP_USER_SUCCESS',\n  payload: user\n});\nexport const signUpUserFailure = error => ({\n  type: 'SIGNUP_USER_FAILURE',\n  payload: error\n});\nexport const meFromToken = tokenFromStorage => dispatch => {\n  dispatch(meFromTokenStarted());\n  axios.get(`${url}/auth/users/me/`, {\n    headers: {\n      Authorization: `Bearer ${tokenFromStorage}`\n    }\n  }).then(res => {\n    // localStorage.setItem('token', res.data.tokens);\n    dispatch(meFromTokenSuccess(res.data));\n  }).catch(err => {\n    localStorage.removeItem('token');\n    dispatch(meFromTokenFailure(err.message));\n  });\n};\n\nconst meFromTokenStarted = () => ({\n  type: 'ME_FROM_TOKEN'\n});\n\nexport const meFromTokenSuccess = user => ({\n  type: 'ME_FROM_TOKEN_SUCCESS',\n  payload: user\n});\nexport const meFromTokenFailure = error => ({\n  type: 'ME_FROM_TOKEN_FAILURE',\n  payload: error\n});\nexport const loginUser = user => dispatch => {\n  dispatch(loginUserStarted());\n  return axios.post(`${url}/login/`, user);\n};\n\nconst loginUserStarted = () => ({\n  type: 'LOGIN_USER'\n});\n\nexport const loginUserSuccess = user => ({\n  type: 'LOGIN_USER_SUCCESS',\n  payload: user\n});\nexport const loginUserFailure = error => ({\n  type: 'LOGIN_USER_FAILURE',\n  payload: error\n});\nexport const editUser = (user, id) => dispatch => {\n  dispatch(editUserStarted());\n  axios.put(`${url}/update-profile/${id}/`, {\n    username: user.username,\n    last_name: user.last_name,\n    email: user.email\n  }).then(({\n    data\n  }) => {\n    // localStorage.setItem('token', JSON.stringify(data.tokens));\n    dispatch(editUserSuccess(data));\n  }).catch(err => {\n    dispatch(editUserFailure(err.message));\n  });\n};\n\nconst editUserStarted = data => ({\n  type: 'EDIT_USER',\n  payload: data\n});\n\nexport const editUserSuccess = user => ({\n  type: 'EDIT_USER_SUCCESS',\n  payload: user\n});\nexport const editUserFailure = error => ({\n  type: 'EDIT_USER_FAILURE',\n  payload: error\n});\nexport const logoutUser = () => ({\n  type: 'LOGOUT_USER'\n});","map":{"version":3,"sources":["/home/ariet/project/pizza_shop/src/redux/actions/user.js"],"names":["axios","url","signUpUser","user","dispatch","signUpUserStarted","post","type","signUpUserSuccess","payload","signUpUserFailure","error","meFromToken","tokenFromStorage","meFromTokenStarted","get","headers","Authorization","then","res","meFromTokenSuccess","data","catch","err","localStorage","removeItem","meFromTokenFailure","message","loginUser","loginUserStarted","loginUserSuccess","loginUserFailure","editUser","id","editUserStarted","put","username","last_name","email","editUserSuccess","editUserFailure","logoutUser"],"mappings":"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","sourcesContent":["import axios from 'axios';\nconst url = 'https://jastegri.pythonanywhere.com';\n\nexport const signUpUser = (user) => (dispatch) => {\n  dispatch(signUpUserStarted());\n\n  return axios.post(`${url}/auth/users/`, user);\n};\n\nconst signUpUserStarted = () => ({\n  type: 'SIGNUP_USER',\n});\n\nexport const signUpUserSuccess = (user) => ({\n  type: 'SIGNUP_USER_SUCCESS',\n  payload: user,\n});\n\nexport const signUpUserFailure = (error) => ({\n  type: 'SIGNUP_USER_FAILURE',\n  payload: error,\n});\n\nexport const meFromToken = (tokenFromStorage) => (dispatch) => {\n  dispatch(meFromTokenStarted());\n\n  axios\n    .get(`${url}/auth/users/me/`, {\n      headers: { Authorization: `Bearer ${tokenFromStorage}` },\n    })\n    .then((res) => {\n      // localStorage.setItem('token', res.data.tokens);\n      dispatch(meFromTokenSuccess(res.data));\n    })\n    .catch((err) => {\n      localStorage.removeItem('token');\n      dispatch(meFromTokenFailure(err.message));\n    });\n};\n\nconst meFromTokenStarted = () => ({\n  type: 'ME_FROM_TOKEN',\n});\n\nexport const meFromTokenSuccess = (user) => ({\n  type: 'ME_FROM_TOKEN_SUCCESS',\n  payload: user,\n});\n\nexport const meFromTokenFailure = (error) => ({\n  type: 'ME_FROM_TOKEN_FAILURE',\n  payload: error,\n});\n\nexport const loginUser = (user) => (dispatch) => {\n  dispatch(loginUserStarted());\n  return axios.post(`${url}/login/`, user);\n};\n\nconst loginUserStarted = () => ({\n  type: 'LOGIN_USER',\n});\n\nexport const loginUserSuccess = (user) => ({\n  type: 'LOGIN_USER_SUCCESS',\n  payload: user,\n});\n\nexport const loginUserFailure = (error) => ({\n  type: 'LOGIN_USER_FAILURE',\n  payload: error,\n});\n\nexport const editUser = (user, id) => (dispatch) => {\n  dispatch(editUserStarted());\n\n  axios\n    .put(`${url}/update-profile/${id}/`, {\n      username: user.username,\n      last_name: user.last_name,\n      email: user.email,\n    })\n    .then(({ data }) => {\n      // localStorage.setItem('token', JSON.stringify(data.tokens));\n      dispatch(editUserSuccess(data));\n    })\n    .catch((err) => {\n      dispatch(editUserFailure(err.message));\n    });\n};\n\nconst editUserStarted = (data) => ({\n  type: 'EDIT_USER',\n  payload: data,\n});\n\nexport const editUserSuccess = (user) => ({\n  type: 'EDIT_USER_SUCCESS',\n  payload: user,\n});\n\nexport const editUserFailure = (error) => ({\n  type: 'EDIT_USER_FAILURE',\n  payload: error,\n});\n\nexport const logoutUser = () => ({\n  type: 'LOGOUT_USER',\n});\n"]},"metadata":{},"sourceType":"module"}